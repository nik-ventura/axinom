<div class="office-data">
  <div class="row no-margin ">
    <div class="col-md-2 no-padd">
      <div class="form-group search-employee">
        <input type="text" class="form-control" ng-model="searchEmployee" placeholder="Find an employee">
      </div>
    </div>
    <div class="col-md-9 text-center month">
      <i class="glyphicon glyphicon-chevron-left"></i>
        November 2015
      <i class="glyphicon glyphicon-chevron-right"></i>

    </div>
  </div>
  <div class="col-md-11">
    <div class="row data-row" data-ng-repeat="employee in employees | filter: searchEmployee "  ng-class="{active: $scope.openControls}">
      <div class="col-md-2 no-padd">
        <div class="employee-name">{{employee.name}}</div>
      </div>
      <div class="col-md-10 ">
        <ul class="calendar">
          <li>1</li>
          <li>2</li>
          <li>3</li>
          <li>4</li>
          <li>5</li>
          <li class="sick-day">6</li>
          <li class="sick-day">7</li>
          <li class="sick-day">8</li>
          <li class="sick-day">9</li>
          <li class="sick-day">10</li>
          <li>11</li>
          <li>12</li>
          <li>13</li>
          <li>14</li>
          <li>15</li>
          <li>16</li>
          <li>17</li>
          <li class="holiday">18</li>
          <li class="holiday">19</li>
          <li class="holiday">20</li>
          <li class="holiday">21</li>
          <li>22</li>
          <li>23</li>
          <li>24</li>
          <li>25</li>
          <li>26</li>
          <li>27</li>
          <li>28</li>
          <li>29</li>
          <li>30</li>
          <li>31</li>
        </ul>
        <div class="row log-controls">
          <div class="col-md-6">
            <form class="office-form">
              <div class="form-group col-sm-4">
                <label>Time range</label>
                <input date-range-picker class="form-control date-picker" type="text" ng-model="date" min="'2015-11-12'" max="'2016-08-25'" placeholder="Pick time range"/>
              </div>
              <div class="form-group col-sm-4">
                <label>Mark as</label>
                <select class="form-control" id="log_type">
                  <option value="holiday">Holidays</option>
                  <option value="sick-day">Sick days</option>
                  <option value="army">Army</option>
                  <option value="pregnancy">Pregnancy</option>
                </select>
              </div>
              <button type="submit" class="btn btn-primary confirm-days" >Confirm</button>
              <button type="submit" class="btn btn-default close-controls" ng-click="vm.dateRange = false">Close</button>
            </form>
          </div>
        </div>
      </div>
    </div>

  </div>
  <div class="col-md-1">
    <div class="color-legend">
      <ul>
        <li><span class="sick-day"></span> <p>Sick days</p></li>
        <li><span class="holiday"></span> <p>Holiday</p></li>
        <li><span class="army"></span> <p>Army</p></li>
        <li><span class="pregnancy"></span> <p>Pregnancy</p></li>
      </ul>
    </div>
  </div>
</div>
<script type="text/javascript">
  setTimeout(function(){
    $('.calendar li').click(function(){
      $(this).toggleClass('active');
      $(this).parents('.row').find('.log-controls').addClass('active');
    });
    $('.date-range').click(function() {
      $(this).parents('.row').find('.log-controls').addClass('active');
    });
//
    $('.close-controls').click(function(){
      $('.calendar li.active').removeClass('active');
      $(this).parents('.log-controls').removeClass('active')
    });
    $('.confirm-days').click(function(){
      var type = $(this).parents('.office-form').find('#log_type option:selected').val();
      console.log('Selected' + type);
      $(this).parents('.data-row').find('.calendar li.active').removeClass('active').addClass(type);
    })
  }, 100);

</script>